{"version":3,"file":"angular-resize-element.umd.js.map","sources":["ng://angular-resize-element/lib/angular-resize-element.enum.ts","ng://angular-resize-element/lib/angular-resize-element.directive.ts","ng://angular-resize-element/lib/angular-resize-element.module.ts"],"sourcesContent":["export enum AngularResizeElementDirection {\r\n    TOP = 'top',\r\n    TOP_RIGHT = 'top-right',\r\n    RIGHT = 'right',\r\n    BOTTOM_RIGHT = 'bottom-right',\r\n    BOTTOM = 'bottom',\r\n    BOTTOM_LEFT = 'bottom-left',\r\n    LEFT = 'left',\r\n    TOP_LEFT = 'top-left'\r\n}\r\n","import {\r\n    Directive,\r\n    ElementRef,\r\n    EventEmitter,\r\n    HostListener,\r\n    Input,\r\n    Output,\r\n    Renderer2,\r\n} from '@angular/core';\r\nimport {AngularResizeElementEvent} from './angular-resize-element-event.interface';\r\nimport {AngularResizeElementDirection} from './angular-resize-element.enum';\r\n\r\n// @ts-ignore\r\n@Directive({\r\n    selector: '[resize], [resizeStart], [resizeEnd]'\r\n})\r\nexport class AngularResizeElementDirective {\r\n    private mouseUpListener: () => void;\r\n    private mouseMoveListener: () => void;\r\n\r\n    private targetElementWidthValue: number;\r\n    private targetElementHeightValue: number;\r\n\r\n    private originalEvent: MouseEvent;\r\n\r\n    @Input()\r\n    public targetElement: HTMLElement | ElementRef;\r\n\r\n    @Input()\r\n    public direction: AngularResizeElementDirection;\r\n\r\n    @Input()\r\n    public proportionalResize: boolean;\r\n\r\n    @Input()\r\n    public applyClass = 'resizes';\r\n\r\n    @Output()\r\n    public resizeStart: EventEmitter<AngularResizeElementEvent> = new EventEmitter();\r\n\r\n    @Output()\r\n    public resize: EventEmitter<AngularResizeElementEvent> = new EventEmitter();\r\n\r\n    @Output()\r\n    public resizeEnd: EventEmitter<AngularResizeElementEvent> = new EventEmitter();\r\n\r\n\r\n\r\n    constructor(private readonly elementRef: ElementRef,\r\n                private readonly renderer2: Renderer2,\r\n    ) {}\r\n\r\n\r\n\r\n    @HostListener('mousedown', ['$event'])\r\n    public onMouseDown(evt: MouseEvent): void {\r\n        evt.preventDefault();\r\n\r\n        this.setOriginalData(evt);\r\n\r\n        this.resizeStart.emit(this.generateValuesForEvent(evt));\r\n\r\n        this.mouseUpListener = this.renderer2.listen('document', 'mouseup', event => this.onMouseUp(event));\r\n        this.mouseMoveListener = this.renderer2.listen('document', 'mousemove', event => this.onMouseMove(event));\r\n        this.renderer2.addClass(this.elementRef.nativeElement, 'resizes');\r\n    }\r\n\r\n\r\n\r\n    private onMouseUp(evt: MouseEvent): void {\r\n        const eventValues = this.generateValuesForEvent(evt);\r\n        this.resize.emit(eventValues);\r\n        this.mouseMoveListener();\r\n        this.mouseUpListener();\r\n\r\n        this.renderer2.removeClass(this.elementRef.nativeElement, this.applyClass);\r\n        this.resizeEnd.emit(eventValues);\r\n    }\r\n\r\n\r\n\r\n    private onMouseMove(evt: MouseEvent): void {\r\n        this.resize.emit(this.generateValuesForEvent(evt));\r\n    }\r\n\r\n\r\n\r\n    private setOriginalData(originalEvent: MouseEvent) {\r\n        this.originalEvent = originalEvent;\r\n\r\n        if (this.targetElement) {\r\n            const dataSource = this.targetElement instanceof ElementRef ? this.targetElement.nativeElement : this.targetElement;\r\n            this.targetElementWidthValue = dataSource.offsetWidth;\r\n            this.targetElementHeightValue = dataSource.offsetHeight;\r\n\r\n        } else {\r\n            this.targetElementWidthValue = 0;\r\n            this.targetElementHeightValue = 0;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private generateValuesForEvent(evt: MouseEvent): AngularResizeElementEvent {\r\n        const originalXValue = this.originalEvent.clientX;\r\n        const originalYValue = this.originalEvent.clientY;\r\n\r\n        let currentWidthValue = evt.clientX - originalXValue;\r\n        let currentHeightValue = evt.clientY - originalYValue;\r\n\r\n        switch (this.direction) {\r\n            case AngularResizeElementDirection.TOP:\r\n            case AngularResizeElementDirection.TOP_RIGHT: {\r\n                currentHeightValue *= -1;\r\n                break;\r\n            }\r\n            case AngularResizeElementDirection.BOTTOM_LEFT:\r\n            case AngularResizeElementDirection.LEFT: {\r\n                currentWidthValue *= -1;\r\n                break;\r\n            }\r\n            case AngularResizeElementDirection.TOP_LEFT: {\r\n                currentHeightValue *= -1;\r\n                currentWidthValue *= -1;\r\n                break;\r\n            }\r\n        }\r\n\r\n        switch (this.direction) {\r\n            case AngularResizeElementDirection.TOP:\r\n            case AngularResizeElementDirection.BOTTOM: {\r\n                currentWidthValue = 0;\r\n                break;\r\n            }\r\n            case AngularResizeElementDirection.RIGHT:\r\n            case AngularResizeElementDirection.LEFT: {\r\n                currentHeightValue = 0;\r\n                break;\r\n            }\r\n        }\r\n\r\n        currentWidthValue += this.targetElementWidthValue;\r\n        currentHeightValue += this.targetElementHeightValue;\r\n\r\n        if (this.proportionalResize) {\r\n            if (currentWidthValue > currentHeightValue) {\r\n                currentWidthValue = currentHeightValue;\r\n            } else {\r\n                currentHeightValue = currentWidthValue;\r\n            }\r\n        }\r\n\r\n        return {\r\n            originalEvent: this.originalEvent,\r\n            currentWidthValue: currentWidthValue,\r\n            currentHeightValue: currentHeightValue,\r\n            originalWidthValue: this.targetElementWidthValue,\r\n            originalHeightValue: this.targetElementHeightValue,\r\n            differenceWidthValue: this.targetElementWidthValue - currentWidthValue,\r\n            differenceHeightValue: this.targetElementHeightValue - currentHeightValue,\r\n            direction: this.direction,\r\n        };\r\n    }\r\n}\r\n\r\n","import {NgModule} from '@angular/core';\r\nimport {AngularResizeElementDirective} from './angular-resize-element.directive';\r\n\r\n@NgModule({\r\n    declarations: [AngularResizeElementDirective],\r\n    imports: [],\r\n    exports: [AngularResizeElementDirective]\r\n})\r\nexport class AngularResizeElementModule { }\r\n"],"names":["EventEmitter","ElementRef","Directive","Renderer2","Input","Output","HostListener","NgModule"],"mappings":"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"}
